let listProducts = [
  {
    id: 1,
    name: "Samsung Galaxy S21",
    brandId: "samsung",
    image: "asset/img/samsung1.webp",
    thumnailList: [
      { thumnail: "asset/img/samsung1.webp", alt: "Ảnh 1" },
      { thumnail: "asset/img/samsung3.webp", alt: "Ảnh 2" },
      { thumnail: "asset/img/samsung4.webp", alt: "Ảnh 3" },
    ],
    desc: "Tùy chọn màu sắc mới của dòng điện thoại này ",
    screen: "6.7 inchs",
    cameratruoc: "12MP, ƒ/1.9, Tự động lấy nét theo pha Focus Pixels",
    camerasau: "48MP, f/1.78, 24mm, 2µm",
    chipset: "Apple A18 Pro",
    ram: "8GB",
    bonhotrong: "256GB",
    pin: "3.265 mAh",
    os: "iOS 18",
    price: 309800000,
    storage: "256GB",
    promotion: "Giảm 5% cho khách hàng mới",
    rating: 5,
    isFavorite: true,
  },
  {
    id: 2,
    name: "iPhone 13",
    brandId: "iphone",
    image: "asset/img/iphone1.webp",
    thumnailList: [
      { thumnail: "asset/img/iphone1.webp", alt: "Ảnh 1" },
      { thumnail: "asset/img/iphone3.webp", alt: "Ảnh 2" },
      { thumnail: "asset/img/iphone4.webp", alt: "Ảnh 3" },
    ],
    desc: "Tùy chọn màu sắc mới của dòng điện thoại này ",
    screen: "6.7 inchs",
    cameratruoc: "12MP, ƒ/1.9, Tự động lấy nét theo pha Focus Pixels",
    camerasau: "48MP, f/1.78, 24mm, 2µm",
    chipset: "Apple A18 Pro",
    ram: "8GB",
    bonhotrong: "256GB",
    pin: "3.265 mAh",
    os: "iOS 18",
    price: 23990000,
    storage: "256GB",
    promotion: "Giảm 5% cho khách hàng mới",
    rating: 5,
    isFavorite: true,
  },
  {
    id: 3,
    name: "iphone 15",
    brandId: "iphone",
    image: "asset/img/iphone2.webp",
    thumnailList: [
      { thumnail: "asset/img/iphone1.webp", alt: "Ảnh 1" },
      { thumnail: "asset/img/iphone3.webp", alt: "Ảnh 2" },
      { thumnail: "asset/img/iphone4.webp", alt: "Ảnh 3" },
    ],
    desc: "Tùy chọn màu sắc mới của dòng điện thoại này",
    screen: "6.7 inchs",
    cameratruoc: "12MP, ƒ/1.9, Tự động lấy nét theo pha Focus Pixels",
    camerasau: "48MP, f/1.78, 24mm, 2µm",
    chipset: "Apple A18 Pro",
    ram: "8GB",
    pin: "3.265 mAh",
    os: "iOS 18",
    price: 14990000,
    storage: "256GB",
    promotion: "Mua 1 tặng 1",
    rating: 4,
    isFavorite: false,
  },
  {
    id: 4,
    name: "Samsung Galaxy S21",
    brandId: "samsung",
    image: "asset/img/samsung2.webp",
    thumnailList: [
      { thumnail: "asset/img/samsung1.webp", alt: "Ảnh 1" },
      { thumnail: "asset/img/samsung3.webp", alt: "Ảnh 2" },
      { thumnail: "asset/img/samsung4.webp", alt: "Ảnh 3" },
    ],
    desc: "Tùy chọn màu sắc mới của dòng điện thoại này ",
    screen: "6.7 inchs",
    cameratruoc: "12MP, ƒ/1.9, Tự động lấy nét theo pha Focus Pixels",
    camerasau: "48MP, f/1.78, 24mm, 2µm",
    chipset: "Apple A18 Pro",
    ram: "8GB",
    bonhotrong: "256GB",
    pin: "3.265 mAh",
    os: "iOS 18",
    price: 309800000,
    storage: "256GB",
    promotion: "Giảm 5% cho khách hàng mới",
    rating: 5,
    isFavorite: true,
  },
  {
    id: 5,
    name: "Xiaomi",
    brandId: "xiaomi",
    image: "asset/img/redmi1.webp",
    thumnailList: [
      { thumnail: "asset/img/samsung1.webp", alt: "Ảnh 1" },
      { thumnail: "asset/img/samsung3.webp", alt: "Ảnh 2" },
      { thumnail: "asset/img/samsung4.webp", alt: "Ảnh 3" },
    ],
    desc: "Tùy chọn màu sắc mới của dòng điện thoại này ",
    screen: "6.7 inchs",
    cameratruoc: "12MP, ƒ/1.9, Tự động lấy nét theo pha Focus Pixels",
    camerasau: "48MP, f/1.78, 24mm, 2µm",
    chipset: "Apple A18 Pro",
    ram: "8GB",
    bonhotrong: "256GB",
    pin: "3.265 mAh",
    os: "iOS 18",
    price: 309800000,
    storage: "256GB",
    promotion: "Giảm 5% cho khách hàng mới",
    rating: 5,
    isFavorite: true,
  },
  {
    id: 6,
    name: "Xiaomi 1",
    brandId: "xiaomi",
    image: "asset/img/redmi2.webp",
    thumnailList: [
      { thumnail: "asset/img/samsung1.webp", alt: "Ảnh 1" },
      { thumnail: "asset/img/samsung3.webp", alt: "Ảnh 2" },
      { thumnail: "asset/img/samsung4.webp", alt: "Ảnh 3" },
    ],
    desc: "Tùy chọn màu sắc mới của dòng điện thoại này ",
    screen: "6.7 inchs",
    cameratruoc: "12MP, ƒ/1.9, Tự động lấy nét theo pha Focus Pixels",
    camerasau: "48MP, f/1.78, 24mm, 2µm",
    chipset: "Apple A18 Pro",
    ram: "8GB",
    bonhotrong: "256GB",
    pin: "3.265 mAh",
    os: "iOS 18",
    price: 309800000,
    storage: "256GB",
    promotion: "Giảm 5% cho khách hàng mới",
    rating: 5,
    isFavorite: true,
  },
  {
    id: 7,
    name: "iPhone 13",
    brandId: "iphone",
    image: "asset/img/iphone3.webp",
    thumnailList: [
      { thumnail: "asset/img/iphone1.webp", alt: "Ảnh 1" },
      { thumnail: "asset/img/iphone3.webp", alt: "Ảnh 2" },
      { thumnail: "asset/img/iphone4.webp", alt: "Ảnh 3" },
    ],
    desc: "Tùy chọn màu sắc mới của dòng điện thoại này ",
    screen: "6.7 inchs",
    cameratruoc: "12MP, ƒ/1.9, Tự động lấy nét theo pha Focus Pixels",
    camerasau: "48MP, f/1.78, 24mm, 2µm",
    chipset: "Apple A18 Pro",
    ram: "8GB",
    bonhotrong: "256GB",
    pin: "3.265 mAh",
    os: "iOS 18",
    price: 23990000,
    storage: "256GB",
    promotion: "Giảm 5% cho khách hàng mới",
    rating: 5,
    isFavorite: true,
  },
  {
    id: 8,
    name: "iPhone 13",
    brandId: "iphone",
    image: "asset/img/iphone4.webp",
    thumnailList: [
      { thumnail: "asset/img/iphone1.webp", alt: "Ảnh 1" },
      { thumnail: "asset/img/iphone3.webp", alt: "Ảnh 2" },
      { thumnail: "asset/img/iphone4.webp", alt: "Ảnh 3" },
    ],
    desc: "Tùy chọn màu sắc mới của dòng điện thoại này ",
    screen: "6.7 inchs",
    cameratruoc: "12MP, ƒ/1.9, Tự động lấy nét theo pha Focus Pixels",
    camerasau: "48MP, f/1.78, 24mm, 2µm",
    chipset: "Apple A18 Pro",
    ram: "8GB",
    bonhotrong: "256GB",
    pin: "3.265 mAh",
    os: "iOS 18",
    price: 23990000,
    storage: "256GB",
    promotion: "Giảm 5% cho khách hàng mới",
    rating: 5,
    isFavorite: true,
  },
  {
    id: 9,
    name: "Sony Xperia 1",
    brandId: "sony",
    thumnailList: [
      { thumnail: "asset/img/samsung1.webp", alt: "Ảnh 1" },
      { thumnail: "asset/img/samsung3.webp", alt: "Ảnh 2" },
      { thumnail: "asset/img/samsung4.webp", alt: "Ảnh 3" },
    ],
    desc: "Tùy chọn màu sắc mới của dòng điện thoại này ",
    screen: "6.7 inchs",
    cameratruoc: "12MP, ƒ/1.9, Tự động lấy nét theo pha Focus Pixels",
    camerasau: "48MP, f/1.78, 24mm, 2µm",
    chipset: "Apple A18 Pro",
    ram: "8GB",
    bonhotrong: "256GB",
    pin: "3.265 mAh",
    os: "iOS 18",
    price: 309800000,
    storage: "256GB",
    promotion: "Giảm 5% cho khách hàng mới",
    rating: 5,
    isFavorite: true,
  },
  {
    id: 10,
    name: "Realme GT",
    brandId: "realme",
    thumnailList: [
      { thumnail: "asset/img/samsung1.webp", alt: "Ảnh 1" },
      { thumnail: "asset/img/samsung3.webp", alt: "Ảnh 2" },
      { thumnail: "asset/img/samsung4.webp", alt: "Ảnh 3" },
    ],
    desc: "Tùy chọn màu sắc mới của dòng điện thoại này ",
    screen: "6.7 inchs",
    cameratruoc: "12MP, ƒ/1.9, Tự động lấy nét theo pha Focus Pixels",
    camerasau: "48MP, f/1.78, 24mm, 2µm",
    chipset: "Apple A18 Pro",
    ram: "8GB",
    bonhotrong: "256GB",
    pin: "3.265 mAh",
    os: "iOS 18",
    price: 309800000,
    storage: "256GB",
    promotion: "Giảm 5% cho khách hàng mới",
    rating: 5,
    isFavorite: true,
  },
  {
    id: 11,
    name: "Nokia 8.3",
    brandId: "nokia",
    thumnailList: [
      { thumnail: "asset/img/samsung1.webp", alt: "Ảnh 1" },
      { thumnail: "asset/img/samsung3.webp", alt: "Ảnh 2" },
      { thumnail: "asset/img/samsung4.webp", alt: "Ảnh 3" },
    ],
    desc: "Tùy chọn màu sắc mới của dòng điện thoại này ",
    screen: "6.7 inchs",
    cameratruoc: "12MP, ƒ/1.9, Tự động lấy nét theo pha Focus Pixels",
    camerasau: "48MP, f/1.78, 24mm, 2µm",
    chipset: "Apple A18 Pro",
    ram: "8GB",
    bonhotrong: "256GB",
    pin: "3.265 mAh",
    os: "iOS 18",
    price: 309800000,
    storage: "256GB",
    promotion: "Giảm 5% cho khách hàng mới",
    rating: 5,
    isFavorite: true,
  },
  {
    id: 12,
    name: "Motorola Edge 20",
    brandId: "motorola",
    thumnailList: [
      { thumnail: "asset/img/samsung1.webp", alt: "Ảnh 1" },
      { thumnail: "asset/img/samsung3.webp", alt: "Ảnh 2" },
      { thumnail: "asset/img/samsung4.webp", alt: "Ảnh 3" },
    ],
    desc: "Tùy chọn màu sắc mới của dòng điện thoại này ",
    screen: "6.7 inchs",
    cameratruoc: "12MP, ƒ/1.9, Tự động lấy nét theo pha Focus Pixels",
    camerasau: "48MP, f/1.78, 24mm, 2µm",
    chipset: "Apple A18 Pro",
    ram: "8GB",
    bonhotrong: "256GB",
    pin: "3.265 mAh",
    os: "iOS 18",
    price: 309800000,
    storage: "256GB",
    promotion: "Giảm 5% cho khách hàng mới",
    rating: 5,
    isFavorite: true,
  },
  {
    id: 13,
    name: "Asus Zenfone 8",
    brandId: "asus",
    thumnailList: [
      { thumnail: "asset/img/samsung1.webp", alt: "Ảnh 1" },
      { thumnail: "asset/img/samsung3.webp", alt: "Ảnh 2" },
      { thumnail: "asset/img/samsung4.webp", alt: "Ảnh 3" },
    ],
    desc: "Tùy chọn màu sắc mới của dòng điện thoại này ",
    screen: "6.7 inchs",
    cameratruoc: "12MP, ƒ/1.9, Tự động lấy nét theo pha Focus Pixels",
    camerasau: "48MP, f/1.78, 24mm, 2µm",
    chipset: "Apple A18 Pro",
    ram: "8GB",
    bonhotrong: "256GB",
    pin: "3.265 mAh",
    os: "iOS 18",
    price: 309800000,
    storage: "256GB",
    promotion: "Giảm 5% cho khách hàng mới",
    rating: 5,
    isFavorite: true,
  },
  {
    id: 14,
    name: "LG Velvet",
    brandId: "lg",
    thumnailList: [
      { thumnail: "asset/img/samsung1.webp", alt: "Ảnh 1" },
      { thumnail: "asset/img/samsung3.webp", alt: "Ảnh 2" },
      { thumnail: "asset/img/samsung4.webp", alt: "Ảnh 3" },
    ],
    desc: "Tùy chọn màu sắc mới của dòng điện thoại này ",
    screen: "6.7 inchs",
    cameratruoc: "12MP, ƒ/1.9, Tự động lấy nét theo pha Focus Pixels",
    camerasau: "48MP, f/1.78, 24mm, 2µm",
    chipset: "Apple A18 Pro",
    ram: "8GB",
    bonhotrong: "256GB",
    pin: "3.265 mAh",
    os: "iOS 18",
    price: 309800000,
    storage: "256GB",
    promotion: "Giảm 5% cho khách hàng mới",
    rating: 5,
    isFavorite: true,
  },
  {
    id: 15,
    name: "Honor 50",
    brandId: "honor",
    thumnailList: [
      { thumnail: "asset/img/samsung1.webp", alt: "Ảnh 1" },
      { thumnail: "asset/img/samsung3.webp", alt: "Ảnh 2" },
      { thumnail: "asset/img/samsung4.webp", alt: "Ảnh 3" },
    ],
    desc: "Tùy chọn màu sắc mới của dòng điện thoại này ",
    screen: "6.7 inchs",
    cameratruoc: "12MP, ƒ/1.9, Tự động lấy nét theo pha Focus Pixels",
    camerasau: "48MP, f/1.78, 24mm, 2µm",
    chipset: "Apple A18 Pro",
    ram: "8GB",
    bonhotrong: "256GB",
    pin: "3.265 mAh",
    os: "iOS 18",
    price: 309800000,
    storage: "256GB",
    promotion: "Giảm 5% cho khách hàng mới",
    rating: 5,
    isFavorite: true,
  },
  {
    id: 16,
    name: "Tecno Camon 17",
    brandId: "tecno",
    thumnailList: [
      { thumnail: "asset/img/samsung1.webp", alt: "Ảnh 1" },
      { thumnail: "asset/img/samsung3.webp", alt: "Ảnh 2" },
      { thumnail: "asset/img/samsung4.webp", alt: "Ảnh 3" },
    ],
    desc: "Tùy chọn màu sắc mới của dòng điện thoại này ",
    screen: "6.7 inchs",
    cameratruoc: "12MP, ƒ/1.9, Tự động lấy nét theo pha Focus Pixels",
    camerasau: "48MP, f/1.78, 24mm, 2µm",
    chipset: "Apple A18 Pro",
    ram: "8GB",
    bonhotrong: "256GB",
    pin: "3.265 mAh",
    os: "iOS 18",
    price: 309800000,
    storage: "256GB",
    promotion: "Giảm 5% cho khách hàng mới",
    rating: 5,
    isFavorite: true,
  },
  {
    id: 17,
    name: "Infinix Note 10",
    brandId: "infinix",
    thumnailList: [
      { thumnail: "asset/img/samsung1.webp", alt: "Ảnh 1" },
      { thumnail: "asset/img/samsung3.webp", alt: "Ảnh 2" },
      { thumnail: "asset/img/samsung4.webp", alt: "Ảnh 3" },
    ],
    desc: "Tùy chọn màu sắc mới của dòng điện thoại này ",
    screen: "6.7 inchs",
    cameratruoc: "12MP, ƒ/1.9, Tự động lấy nét theo pha Focus Pixels",
    camerasau: "48MP, f/1.78, 24mm, 2µm",
    chipset: "Apple A18 Pro",
    ram: "8GB",
    bonhotrong: "256GB",
    pin: "3.265 mAh",
    os: "iOS 18",
    price: 309800000,
    storage: "256GB",
    promotion: "Giảm 5% cho khách hàng mới",
    rating: 5,
    isFavorite: true,
  },
  {
    id: 18,
    name: "ZTE Axon 20",
    brandId: "zte",
    thumnailList: [
      { thumnail: "asset/img/samsung1.webp", alt: "Ảnh 1" },
      { thumnail: "asset/img/samsung3.webp", alt: "Ảnh 2" },
      { thumnail: "asset/img/samsung4.webp", alt: "Ảnh 3" },
    ],
    desc: "Tùy chọn màu sắc mới của dòng điện thoại này ",
    screen: "6.7 inchs",
    cameratruoc: "12MP, ƒ/1.9, Tự động lấy nét theo pha Focus Pixels",
    camerasau: "48MP, f/1.78, 24mm, 2µm",
    chipset: "Apple A18 Pro",
    ram: "8GB",
    bonhotrong: "256GB",
    pin: "3.265 mAh",
    os: "iOS 18",
    price: 309800000,
    storage: "256GB",
    promotion: "Giảm 5% cho khách hàng mới",
    rating: 5,
    isFavorite: true,
  },
  {
    id: 19,
    name: "Alcatel 3X",
    brandId: "alcatel",
    thumnailList: [
      { thumnail: "asset/img/samsung1.webp", alt: "Ảnh 1" },
      { thumnail: "asset/img/samsung3.webp", alt: "Ảnh 2" },
      { thumnail: "asset/img/samsung4.webp", alt: "Ảnh 3" },
    ],
    desc: "Tùy chọn màu sắc mới của dòng điện thoại này ",
    screen: "6.7 inchs",
    cameratruoc: "12MP, ƒ/1.9, Tự động lấy nét theo pha Focus Pixels",
    camerasau: "48MP, f/1.78, 24mm, 2µm",
    chipset: "Apple A18 Pro",
    ram: "8GB",
    bonhotrong: "256GB",
    pin: "3.265 mAh",
    os: "iOS 18",
    price: 309800000,
    storage: "256GB",
    promotion: "Giảm 5% cho khách hàng mới",
    rating: 5,
    isFavorite: true,
  },
  {
    id: 20,
    name: "Samsung Galaxy S21",
    brandId: "samsung",
    image: "asset/img/samsung3.webp",
    thumnailList: [
      { thumnail: "asset/img/samsung1.webp", alt: "Ảnh 1" },
      { thumnail: "asset/img/samsung3.webp", alt: "Ảnh 2" },
      { thumnail: "asset/img/samsung4.webp", alt: "Ảnh 3" },
    ],
    desc: "Tùy chọn màu sắc mới của dòng điện thoại này ",
    screen: "6.7 inchs",
    cameratruoc: "12MP, ƒ/1.9, Tự động lấy nét theo pha Focus Pixels",
    camerasau: "48MP, f/1.78, 24mm, 2µm",
    chipset: "Apple A18 Pro",
    ram: "8GB",
    bonhotrong: "256GB",
    pin: "3.265 mAh",
    os: "iOS 18",
    price: 309800000,
    storage: "256GB",
    promotion: "Giảm 5% cho khách hàng mới",
    rating: 5,
    isFavorite: true,
  },
  {
    id: 21,
    name: "Samsung Galaxy S21",
    brandId: "samsung",
    image: "asset/img/samsung4.webp",
    thumnailList: [
      { thumnail: "asset/img/samsung1.webp", alt: "Ảnh 1" },
      { thumnail: "asset/img/samsung3.webp", alt: "Ảnh 2" },
      { thumnail: "asset/img/samsung4.webp", alt: "Ảnh 3" },
    ],
    desc: "Tùy chọn màu sắc mới của dòng điện thoại này ",
    screen: "6.7 inchs",
    cameratruoc: "12MP, ƒ/1.9, Tự động lấy nét theo pha Focus Pixels",
    camerasau: "48MP, f/1.78, 24mm, 2µm",
    chipset: "Apple A18 Pro",
    ram: "8GB",
    bonhotrong: "256GB",
    pin: "3.265 mAh",
    os: "iOS 18",
    price: 309800000,
    storage: "256GB",
    promotion: "Giảm 5% cho khách hàng mới",
    rating: 5,
    isFavorite: true,
  },
  {
    id: 22,
    name: "Samsung Galaxy S21",
    brandId: "samsung",
    image: "asset/img/samsung5.webp",
    thumnailList: [
      { thumnail: "asset/img/samsung1.webp", alt: "Ảnh 1" },
      { thumnail: "asset/img/samsung3.webp", alt: "Ảnh 2" },
      { thumnail: "asset/img/samsung4.webp", alt: "Ảnh 3" },
    ],
    desc: "Tùy chọn màu sắc mới của dòng điện thoại này ",
    screen: "6.7 inchs",
    cameratruoc: "12MP, ƒ/1.9, Tự động lấy nét theo pha Focus Pixels",
    camerasau: "48MP, f/1.78, 24mm, 2µm",
    chipset: "Apple A18 Pro",
    ram: "8GB",
    bonhotrong: "256GB",
    pin: "3.265 mAh",
    os: "iOS 18",
    price: 309800000,
    storage: "256GB",
    promotion: "Giảm 5% cho khách hàng mới",
    rating: 5,
    isFavorite: true,
  },
  {
    id: 23,
    name: "Samsung Galaxy S21",
    brandId: "samsung",
    image: "asset/img/samsung6.webp",
    thumnailList: [
      { thumnail: "asset/img/samsung1.webp", alt: "Ảnh 1" },
      { thumnail: "asset/img/samsung3.webp", alt: "Ảnh 2" },
      { thumnail: "asset/img/samsung4.webp", alt: "Ảnh 3" },
    ],
    desc: "Tùy chọn màu sắc mới của dòng điện thoại này ",
    screen: "6.7 inchs",
    cameratruoc: "12MP, ƒ/1.9, Tự động lấy nét theo pha Focus Pixels",
    camerasau: "48MP, f/1.78, 24mm, 2µm",
    chipset: "Apple A18 Pro",
    ram: "8GB",
    bonhotrong: "256GB",
    pin: "3.265 mAh",
    os: "iOS 18",
    price: 309800000,
    storage: "256GB",
    promotion: "Giảm 5% cho khách hàng mới",
    rating: 5,
    isFavorite: true,
  },
  {
    id: 24,
    name: "Samsung Galaxy S21",
    brandId: "samsung",
    image: "asset/img/samsung7.webp",
    thumnailList: [
      { thumnail: "asset/img/samsung1.webp", alt: "Ảnh 1" },
      { thumnail: "asset/img/samsung3.webp", alt: "Ảnh 2" },
      { thumnail: "asset/img/samsung4.webp", alt: "Ảnh 3" },
    ],
    desc: "Tùy chọn màu sắc mới của dòng điện thoại này ",
    screen: "6.7 inchs",
    cameratruoc: "12MP, ƒ/1.9, Tự động lấy nét theo pha Focus Pixels",
    camerasau: "48MP, f/1.78, 24mm, 2µm",
    chipset: "Apple A18 Pro",
    ram: "8GB",
    bonhotrong: "256GB",
    pin: "3.265 mAh",
    os: "iOS 18",
    price: 309800000,
    storage: "256GB",
    promotion: "Giảm 5% cho khách hàng mới",
    rating: 5,
    isFavorite: true,
  },
  {
    id: 25,
    name: "BlackBerry Key2",
    brandId: "blackberry",
    thumnailList: [
      { thumnail: "asset/img/samsung1.webp", alt: "Ảnh 1" },
      { thumnail: "asset/img/samsung3.webp", alt: "Ảnh 2" },
      { thumnail: "asset/img/samsung4.webp", alt: "Ảnh 3" },
    ],
    desc: "Tùy chọn màu sắc mới của dòng điện thoại này ",
    screen: "6.7 inchs",
    cameratruoc: "12MP, ƒ/1.9, Tự động lấy nét theo pha Focus Pixels",
    camerasau: "48MP, f/1.78, 24mm, 2µm",
    chipset: "Apple A18 Pro",
    ram: "8GB",
    bonhotrong: "256GB",
    pin: "3.265 mAh",
    os: "iOS 18",
    price: 309800000,
    storage: "256GB",
    promotion: "Giảm 5% cho khách hàng mới",
    rating: 5,
    isFavorite: true,
  },
  {
    id: 26,
    name: "iPhone 13",
    brandId: "iphone",
    image: "asset/img/iphone1.webp",
    thumnailList: [
      { thumnail: "asset/img/iphone1.webp", alt: "Ảnh 1" },
      { thumnail: "asset/img/iphone3.webp", alt: "Ảnh 2" },
      { thumnail: "asset/img/iphone4.webp", alt: "Ảnh 3" },
    ],
    desc: "Tùy chọn màu sắc mới của dòng điện thoại này ",
    screen: "6.7 inchs",
    cameratruoc: "12MP, ƒ/1.9, Tự động lấy nét theo pha Focus Pixels",
    camerasau: "48MP, f/1.78, 24mm, 2µm",
    chipset: "Apple A18 Pro",
    ram: "8GB",
    bonhotrong: "256GB",
    pin: "3.265 mAh",
    os: "iOS 18",
    price: 33990000,
    storage: "256GB",
    promotion: "Giảm 5% cho khách hàng mới",
    rating: 5,
    isFavorite: true,
  },
  {
    id: 27,
    name: "iPhone 13",
    brandId: "iphone",
    image: "asset/img/iphone2.webp",
    thumnailList: [
      { thumnail: "asset/img/iphone1.webp", alt: "Ảnh 1" },
      { thumnail: "asset/img/iphone3.webp", alt: "Ảnh 2" },
      { thumnail: "asset/img/iphone4.webp", alt: "Ảnh 3" },
    ],
    desc: "Tùy chọn màu sắc mới của dòng điện thoại này ",
    screen: "6.7 inchs",
    cameratruoc: "12MP, ƒ/1.9, Tự động lấy nét theo pha Focus Pixels",
    camerasau: "48MP, f/1.78, 24mm, 2µm",
    chipset: "Apple A18 Pro",
    ram: "8GB",
    bonhotrong: "256GB",
    pin: "3.265 mAh",
    os: "iOS 18",
    price: 20990000,
    storage: "256GB",
    promotion: "Giảm 5% cho khách hàng mới",
    rating: 5,
    isFavorite: true,
  },
  {
    id: 28,
    name: "iPhone 13",
    brandId: "iphone",
    image: "asset/img/iphone1.webp",
    thumnailList: [
      { thumnail: "asset/img/iphone1.webp", alt: "Ảnh 1" },
      { thumnail: "asset/img/iphone3.webp", alt: "Ảnh 2" },
      { thumnail: "asset/img/iphone4.webp", alt: "Ảnh 3" },
    ],
    desc: "Tùy chọn màu sắc mới của dòng điện thoại này ",
    screen: "6.7 inchs",
    cameratruoc: "12MP, ƒ/1.9, Tự động lấy nét theo pha Focus Pixels",
    camerasau: "48MP, f/1.78, 24mm, 2µm",
    chipset: "Apple A18 Pro",
    ram: "8GB",
    bonhotrong: "256GB",
    pin: "3.265 mAh",
    os: "iOS 18",
    price: 15990000,
    storage: "256GB",
    promotion: "Giảm 5% cho khách hàng mới",
    rating: 5,
    isFavorite: true,
  },
  {
    id: 29,
    name: "iPhone 13",
    brandId: "iphone",
    image: "asset/img/iphone1.webp",
    thumnailList: [
      { thumnail: "asset/img/iphone1.webp", alt: "Ảnh 1" },
      { thumnail: "asset/img/iphone3.webp", alt: "Ảnh 2" },
      { thumnail: "asset/img/iphone4.webp", alt: "Ảnh 3" },
    ],
    desc: "Tùy chọn màu sắc mới của dòng điện thoại này ",
    screen: "6.7 inchs",
    cameratruoc: "12MP, ƒ/1.9, Tự động lấy nét theo pha Focus Pixels",
    camerasau: "48MP, f/1.78, 24mm, 2µm",
    chipset: "Apple A18 Pro",
    ram: "8GB",
    bonhotrong: "256GB",
    pin: "3.265 mAh",
    os: "iOS 18",
    price: 32990000,
    storage: "256GB",
    promotion: "Giảm 5% cho khách hàng mới",
    rating: 5,
    isFavorite: true,
  },
  {
    id: 30,
    name: "iPhone 13",
    brandId: "iphone",
    image: "asset/img/iphone1.webp",
    thumnailList: [
      { thumnail: "asset/img/iphone1.webp", alt: "Ảnh 1" },
      { thumnail: "asset/img/iphone3.webp", alt: "Ảnh 2" },
      { thumnail: "asset/img/iphone4.webp", alt: "Ảnh 3" },
    ],
    desc: "Tùy chọn màu sắc mới của dòng điện thoại này ",
    screen: "6.7 inchs",
    cameratruoc: "12MP, ƒ/1.9, Tự động lấy nét theo pha Focus Pixels",
    camerasau: "48MP, f/1.78, 24mm, 2µm",
    chipset: "Apple A18 Pro",
    ram: "8GB",
    bonhotrong: "256GB",
    pin: "3.265 mAh",
    os: "iOS 18",
    price: 23590000,
    storage: "256GB",
    promotion: "Giảm 5% cho khách hàng mới",
    rating: 5,
    isFavorite: true,
  },
  {
    id: 31,
    name: "iPhone 13",
    brandId: "iphone",
    image: "asset/img/iphone1.webp",
    thumnailList: [
      { thumnail: "asset/img/iphone1.webp", alt: "Ảnh 1" },
      { thumnail: "asset/img/iphone3.webp", alt: "Ảnh 2" },
      { thumnail: "asset/img/iphone4.webp", alt: "Ảnh 3" },
    ],
    desc: "Tùy chọn màu sắc mới của dòng điện thoại này ",
    screen: "6.7 inchs",
    cameratruoc: "12MP, ƒ/1.9, Tự động lấy nét theo pha Focus Pixels",
    camerasau: "48MP, f/1.78, 24mm, 2µm",
    chipset: "Apple A18 Pro",
    ram: "8GB",
    bonhotrong: "256GB",
    pin: "3.265 mAh",
    os: "iOS 18",
    price: 40990000,
    storage: "256GB",
    promotion: "Giảm 5% cho khách hàng mới",
    rating: 5,
    isFavorite: true,
  },
  {
    id: 32,
    name: "iPhone 13",
    brandId: "iphone",
    image: "asset/img/iphone1.webp",
    thumnailList: [
      { thumnail: "asset/img/iphone1.webp", alt: "Ảnh 1" },
      { thumnail: "asset/img/iphone3.webp", alt: "Ảnh 2" },
      { thumnail: "asset/img/iphone4.webp", alt: "Ảnh 3" },
    ],
    desc: "Tùy chọn màu sắc mới của dòng điện thoại này ",
    screen: "6.7 inchs",
    cameratruoc: "12MP, ƒ/1.9, Tự động lấy nét theo pha Focus Pixels",
    camerasau: "48MP, f/1.78, 24mm, 2µm",
    chipset: "Apple A18 Pro",
    ram: "8GB",
    bonhotrong: "256GB",
    pin: "3.265 mAh",
    os: "iOS 18",
    price: 14990000,
    storage: "256GB",
    promotion: "Giảm 5% cho khách hàng mới",
    rating: 5,
    isFavorite: true,
  },
  {
    id: 33,
    name: "iPhone 13",
    brandId: "iphone",
    image: "asset/img/iphone1.webp",
    thumnailList: [
      { thumnail: "asset/img/iphone1.webp", alt: "Ảnh 1" },
      { thumnail: "asset/img/iphone3.webp", alt: "Ảnh 2" },
      { thumnail: "asset/img/iphone4.webp", alt: "Ảnh 3" },
    ],
    desc: "Tùy chọn màu sắc mới của dòng điện thoại này ",
    screen: "6.7 inchs",
    cameratruoc: "12MP, ƒ/1.9, Tự động lấy nét theo pha Focus Pixels",
    camerasau: "48MP, f/1.78, 24mm, 2µm",
    chipset: "Apple A18 Pro",
    ram: "8GB",
    bonhotrong: "256GB",
    pin: "3.265 mAh",
    os: "iOS 18",
    price: 13990000,
    storage: "256GB",
    promotion: "Giảm 5% cho khách hàng mới",
    rating: 5,
    isFavorite: true,
  },
  {
    id: 34,
    name: "iPhone 13",
    brandId: "iphone",
    image: "asset/img/iphone1.webp",
    thumnailList: [
      { thumnail: "asset/img/iphone1.webp", alt: "Ảnh 1" },
      { thumnail: "asset/img/iphone3.webp", alt: "Ảnh 2" },
      { thumnail: "asset/img/iphone4.webp", alt: "Ảnh 3" },
    ],
    desc: "Tùy chọn màu sắc mới của dòng điện thoại này ",
    screen: "6.7 inchs",
    cameratruoc: "12MP, ƒ/1.9, Tự động lấy nét theo pha Focus Pixels",
    camerasau: "48MP, f/1.78, 24mm, 2µm",
    chipset: "Apple A18 Pro",
    ram: "8GB",
    bonhotrong: "256GB",
    pin: "3.265 mAh",
    os: "iOS 18",
    price: 29990000,
    storage: "256GB",
    promotion: "Giảm 5% cho khách hàng mới",
    rating: 5,
    isFavorite: true,
  },
  {
    id: 35,
    name: "iPhone 13",
    brandId: "iphone",
    image: "asset/img/iphone1.webp",
    thumnailList: [
      { thumnail: "asset/img/iphone1.webp", alt: "Ảnh 1" },
      { thumnail: "asset/img/iphone3.webp", alt: "Ảnh 2" },
      { thumnail: "asset/img/iphone4.webp", alt: "Ảnh 3" },
    ],
    desc: "Tùy chọn màu sắc mới của dòng điện thoại này ",
    screen: "6.7 inchs",
    cameratruoc: "12MP, ƒ/1.9, Tự động lấy nét theo pha Focus Pixels",
    camerasau: "48MP, f/1.78, 24mm, 2µm",
    chipset: "Apple A18 Pro",
    ram: "8GB",
    bonhotrong: "256GB",
    pin: "3.265 mAh",
    os: "iOS 18",
    price: 11990000,
    storage: "256GB",
    promotion: "Giảm 5% cho khách hàng mới",
    rating: 5,
    isFavorite: true,
  },
];

if (listProducts.length <= 0) {
  alert("danh sach trong");
} else {
  // đẩy mảng lên local storage
  localStorage.setItem("data", JSON.stringify(listProducts));
}

// lấy dữ liệu tù local storage
listProducts = JSON.parse(localStorage.getItem("data"));

// ======================== KHAI BÁO BIẾN ==============================
let productsByBrand = [];
let productPerPage = 10;
let currentPage = 1; // Trang hiện tại
let currentProductList = []; // Danh sách sản phẩm hiển thị trên trang
let sort;

// ====================== HÀM IN SẢN PHẨM THEO HÃNG ===========================
const urlParams = new URLSearchParams(window.location.search);
const brandProduct = urlParams.get("brand");
const beginPage = urlParams.get("page");

// console.log("URL search params:", window.location.search);
// console.log("Brand of product: ", brandProduct);
// console.log("Begin page: ", beginPage);

function displayListByBrand(brand) {
  productsByBrand = [];
  for (let element of listProducts) {
    if (element.brandId === brandProduct) {
      productsByBrand.push(element);
    }
  }

  currentPage = 1;
  displayProductPerPage(currentPage);
}

displayListByBrand(brandProduct);
console.log(productsByBrand);

// ======================== HÀM HIỆN THỊ BỘ LỌC ===========================================
function showFilter() {
  document.getElementsByClassName("filter")[0].innerHTML = `
    <div class="filter-box filter-synthetic">
              <i class="fa-solid fa-filter"></i>
              <span class="text-filter">Lọc</span>
            </div>
            
            <div class="filter-box filter-about">
              <i class="fa-solid fa-coins"></i>
              <span class="text-filter">Khoảng giá</span>
              <form onsubmit="filterAboutPrice(event)">
                <div class="slider-container">
                  <input
                    type="range"
                    id="rangeSlider"
                    min="2000000"
                    max="100000000"
                    value="5000000"
                    step="200000"
                    oninput="updateSliderValue(event)"
                  />
                  <span id="sliderValue"></span>
                  <input type="submit" value="Áp dụng" />
                </div>
              </form>
            </div>
            
            <div
              class="filter-box filter-hTol"
              id="dec"
              onclick="sortProductsByPrice(this)"
            >
              <i class="fa-solid fa-arrow-down-wide-short"></i>
              <span class="text-filter">Giá giảm dần</span>
            </div>
            
            <div
              class="filter-box filter-lToh"
              id="inc"
              onclick="sortProductsByPrice(this)"
            >
              <i class="fa-solid fa-arrow-up-wide-short"></i>
              <span class="text-filter">Giá tăng dần</span>
            </div>
  `;
}
showFilter();

// ======================== HÀM HIỆN THỊ CÁC SẢN PHẨM TRÊN TRANG ==========================
function displayProductPerPage(page) {
  window.scrollTo(0, 0); // Cuộn lên đầu trang

  currentPage = page;
  const startIndex = (page - 1) * productPerPage;
  const endIndex = startIndex + productPerPage;
  const cutArr = productsByBrand.slice(startIndex, endIndex); // Lấy phần tử cho trang hiện tại

  // console.log(cutArr.length);
  // console.log(cutArr);

  display(cutArr); // Hiển thị danh sách sản phẩm cắt từ currentProductList
  productPagination(); // Cập nhật phân trang dựa trên currentProductList

  // Cập nhật URL với số trang
  const brand = new URLSearchParams(window.location.search).get("brand");
  const newUrl = `SanPham.html?brand=${brand}&page=${page}`;
  history.pushState(null, "", newUrl); // Thay đổi URL mà không làm mới trang
}

// ========================= QUAY LẠI TRANG TRƯỚC ============================
// Lắng nghe sự kiện popstate
window.addEventListener("popstate", function (event) {
  // window.scroll(0, 0);

  const urlParams = new URLSearchParams(window.location.search);
  const brand = urlParams.get("brand");
  const page = parseInt(urlParams.get("page")) || 1; // Mặc định là trang 1

  // Gọi hàm để hiển thị sản phẩm theo brand và trang
  displayListByBrand(brand, page);
});

// ===================== HÀM TẠO PHÂN TRANG ================================
function productPagination(brand, page) {
  const totalProduct = productsByBrand.length;
  const totalPage = Math.ceil(totalProduct / productPerPage); // Tổng số trang

  let paginationHTML = "";
  for (let i = 1; i <= totalPage; i++) {
    const isActive = i === currentPage;
    paginationHTML += `
      <button class="btn-page ${
        isActive ? "active" : ""
      }" onclick="displayProductPerPage(${i})">
        ${i}
      </button>
    `;
  }
  document.getElementById("pagination").innerHTML = paginationHTML;
}

// =================== HÀM HIỆN THỊ SẢN PHẨM ===============================
function display(list) {
  let productHTML = "";
  for (let product of list) {
    productHTML += `
        <a href="detail.html?id=${product.id}">
          <div class="product-card">
            <div class="product-img">
              <img src="${product.image}" alt="${
      product.name
    }" style="width:100%">
            </div>
            <div class="product-info">
              <h4>${product.name}</h4>
              <p class="price">${formatPrice(product.price)}</p>
            <div class="storage-capacity">
                ${product.size ? `<span>${product.size}</span>` : ""}
                ${product.storage ? `<span>${product.storage}</span>` : ""}
                ${product.capacity ? `<span>${product.capacity}</span>` : ""}
              </div>
              <div class="promotion">${product.promotion}</div>
              <div class="rating-favorite">
                <div class="rating">
                  ${createRatingStars(product.rating)}
                </div>
                <div class="favorite">
                  <span>Yêu thích</span>
                  <i class="fa-${
                    product.isFavorite ? "solid" : "regular"
                  } fa-heart" id="heart-icon"></i>
                </div>
              </div>
            </div>
          </div>
        </a>
      `;
  }
  document.getElementsByClassName("list-product")[0].innerHTML = productHTML;
}

// =========================== HÀM SẮP XẾP SẢN PHẨM THEO GIÁ ==========================
function sortProductsByPrice(obj) {
  if (obj.id === "inc") {
    productsByBrand.sort((a, b) => a.price - b.price); // Sắp xếp tăng dần
    sort = "inc";
  } else if (obj.id === "dec") {
    productsByBrand.sort((a, b) => b.price - a.price); // Sắp xếp giảm dần
    sort = "dec";
  }
  currentPage = 1; // Đặt lại trang hiện tại về 1 khi sắp xếp
  displayProductPerPage(currentPage); // Hiển thị sản phẩm đã sắp xếp theo trang đầu
}

// =========================== HÀM LỌC SẢN PHẨM THEO KHOẢNG GIÁ ======================
function filterAboutPrice(event) {
  event.preventDefault(); // Ngăn chặn hành vi gửi form

  const maxPrice = Number(document.getElementById("rangeSlider").value);
  const minPrice = 2000000; // Thay đổi tùy theo yêu cầu khoảng giá thấp nhất
  console.log("min: ", minPrice);
  console.log("max: ", maxPrice);

  const filteredProducts = productsByBrand.filter(
    (element) => element.price >= minPrice && element.price <= maxPrice
  );
  console.log("filtered: ", filteredProducts);
  console.log("products by brand: ", productsByBrand);

  if (filteredProducts.length === 0) {
    alert("Không có sản phẩm nào trong khoảng giá này.");
  } else {
    productsByBrand = filteredProducts;
    console.log("products by brand: ", productsByBrand);
    currentPage = 1; // Đặt lại trang hiện tại về 1
    displayProductPerPage(currentPage); // Hiển thị sản phẩm đã lọc theo trang đầu
    productPagination(); // Cập nhật phân trang dựa trên productsByBrand
  }
}

// hàm cập nhật giá trị slider cho khoảng giá
function updateSliderValue() {
  const slider = document.getElementById("rangeSlider");
  document.getElementById("sliderValue").textContent = slider.value;
}

// =========================== HÀM TÌM KIẾM THEO TÊN SẢN PHẨM =============================
function searchProduct(event) {
  event.preventDefault();
  let nameFind = document.getElementById("search-box").value;

  productsByBrand = [];
  for (let element of listProducts) {
    if (element.name.toLowerCase().includes(nameFind.toLowerCase())) {
      productsByBrand.push(element);
    }
  }

  if (productsByBrand.length === 0) {
    document.getElementsByClassName("product-display")[0].innerHTML = `
      <div style="color: red; font-size: 20px; font-weight: 600; font-style: italic; text-align: center">
        Danh sách trống
      </div> `;
  } else {
    currentPage = 1;
    displayProductPerPage(currentPage);
  }

  // Cập nhật URL với nội dung tìm kiếm
  const newUrl = `SanPham.html?find=${encodeURIComponent(nameFind)}`;
  history.pushState(null, "", newUrl); // Thay đổi URL mà không làm mới trang
}

// =========================== HÀM HỘ TRỠ =============================
// Hàm định dạng giá tiền
function formatPrice(price) {
  return price.toLocaleString("vi-VN", { style: "currency", currency: "VND" });
}

// Hàm tạo các ngôi sao đánh giá
function createRatingStars(rating) {
  let stars = "";
  for (let i = 0; i < 5; i++) {
    stars += `<i class="fa-solid fa-star${
      i < rating ? "" : "-half-stroke"
    }"></i>`;
  }
  return stars;
}

// xử lý input range
const rangeSlider = document.getElementById("rangeSlider");
const sliderValue = document.getElementById("sliderValue");

rangeSlider.addEventListener("input", function () {
  const value = rangeSlider.value;
  sliderValue.textContent = value;

  // Tính toán vị trí của giá trị theo dấu chấm kéo
  const sliderWidth = rangeSlider.offsetWidth;
  const thumbWidth = 16; // Kích thước dấu chấm kéo
  const max = rangeSlider.max;
  const min = rangeSlider.min;

  const percent = (value - min) / (max - min);
  const offset = percent * (sliderWidth - thumbWidth);

  sliderValue.style.left = `${offset}px`;
});

// Hiển thị giá trị khi người dùng nhấn vào thanh trượt
rangeSlider.addEventListener("mousedown", function () {
  sliderValue.style.opacity = "0.8";
});

// Ẩn giá trị khi người dùng thả chuột
rangeSlider.addEventListener("mouseup", function () {
  sliderValue.style.opacity = "0";
});

// Xử lý ẩn giá trị khi người dùng rời chuột ngoài thanh trượt
rangeSlider.addEventListener("mouseleave", function () {
  sliderValue.style.opacity = "0";
});
